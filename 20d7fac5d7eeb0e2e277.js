"use strict";(globalThis.webpackChunkreact_data_grid=globalThis.webpackChunkreact_data_grid||[]).push([[837],{35212:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(67294),d=n(85384),i=n.n(d),o=n(30621),c=n(92117),a=n(85893);function s(){const e=[];for(let t=1;t<30;t++)e.push({type:"MASTER",id:t,department:i().commerce.department(),expanded:!1});return e}const l=new Map,p=[{key:"id",name:"ID",width:35},{key:"product",name:"Product"},{key:"description",name:"Description"},{key:"price",name:"Price"}],u=[{key:"expanded",name:"",minWidth:30,width:30,colSpan:e=>"ROW"===e.type&&"DETAIL"===e.row.type?3:void 0,cellClass:e=>"DETAIL"===e.type?"dif0ok7":void 0,formatter:({row:e,isCellSelected:t,onRowChange:n})=>"DETAIL"===e.type?(0,a.jsx)(y,{isCellSelected:t,parentId:e.parentId}):(0,a.jsx)(c.g,{expanded:e.expanded,isCellSelected:t,onCellExpand:()=>{n({...e,expanded:!e.expanded})}})},{key:"id",name:"ID",width:35},{key:"department",name:"Department"}];function h(){const[e,t]=(0,r.useState)(s);return(0,a.jsx)(o.Z,{rowKeyGetter:m,columns:u,rows:e,onRowsChange:function(e,{indexes:n}){const r=e[n[0]];"MASTER"===r.type&&(r.expanded?e.splice(n[0]+1,0,{type:"DETAIL",id:r.id+100,parentId:r.id}):e.splice(n[0]+1,1),t(e))},headerRowHeight:45,rowHeight:e=>"ROW"===e.type&&"DETAIL"===e.row.type?300:45,className:"fill-grid",enableVirtualization:!1})}function y({parentId:e,isCellSelected:t}){const n=(0,r.useRef)(null),[d,c]=(0,r.useState)({idx:-1,rowIdx:-2});(0,r.useEffect)((()=>{t&&n.current.element.querySelector('[tabindex="0"]').focus({preventScroll:!0})}),[t]);const s=function(e){if(l.has(e))return l.get(e);const t=[];for(let e=0;e<20;e++)t.push({id:e,product:i().commerce.productName(),description:i().commerce.productDescription(),price:i().commerce.price()});return l.set(e,t),t}(e);return(0,a.jsx)("div",{onKeyDown:function(e){const{idx:t,rowIdx:n}=d;("Tab"!==e.key||e.shiftKey||n!==s.length-1||t!==p.length-1)&&("Tab"===e.key&&e.shiftKey&&-1===n&&0===t||e.stopPropagation())},children:(0,a.jsx)(o.Z,{ref:n,rows:s,columns:p,rowKeyGetter:m,onSelectedCellChange:c,style:{height:250}})})}function m(e){return e.id}n(78501)},92117:(e,t,n)=>{n.d(t,{g:()=>i});var r=n(65567),d=n(85893);function i({isCellSelected:e,expanded:t,onCellExpand:n}){const{ref:i,tabIndex:o}=(0,r.n)(e);return(0,d.jsx)("div",{className:"ctvihuc",children:(0,d.jsx)("span",{onClick:n,onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),n())},children:(0,d.jsx)("span",{ref:i,tabIndex:o,children:t?"▼":"▶"})})})}n(40478)},78501:(e,t,n)=>{n.r(t)},40478:(e,t,n)=>{n.r(t)}}]);
//# sourceMappingURL=20d7fac5d7eeb0e2e277.js.map