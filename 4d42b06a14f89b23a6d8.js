"use strict";(globalThis.webpackChunkreact_data_grid=globalThis.webpackChunkreact_data_grid||[]).push([[444],{79753:(e,t,n)=>{n.d(t,{e:()=>o,Z:()=>s});var a=n(85893);const o="rdg-text-editor t1u15qzo";function r(e){null==e||e.focus(),null==e||e.select()}function s({row:e,column:t,onRowChange:n,onClose:s}){return(0,a.jsx)("input",{className:o,ref:r,value:e[t.key],onChange:a=>n({...e,[t.key]:a.target.value}),onBlur:()=>s(!0)})}n(93841)},84013:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(67294),o=n(85384),r=n.n(o),s=n(89622),i=n(79753),l=n(84836),c=n(30621),u=n(23255);async function m(e){const{renderToStaticMarkup:t}=await n.e(762).then(n.t.bind(n,97762,19)),o=document.createElement("div");return o.innerHTML=t((0,a.cloneElement)(e,{enableVirtualization:!1})),{head:r(".rdg-header-row"),body:r(".rdg-row:not(.rdg-summary-row)"),foot:r(".rdg-summary-row")};function r(e){return Array.from(o.querySelectorAll(e)).map((e=>Array.from(e.querySelectorAll(".rdg-cell")).map((e=>e.innerText))))}}function d(e){if("string"==typeof e){const t=e.replace(/"/g,'""');return t.includes(",")?`"${t}"`:t}return e}var h=n(85893);const p=new Intl.DateTimeFormat(navigator.language),g=new Intl.NumberFormat(navigator.language,{style:"currency",currency:"eur"});function w({timestamp:e}){return(0,h.jsx)(h.Fragment,{children:p.format(e)})}function y({value:e}){return(0,h.jsx)(h.Fragment,{children:g.format(e)})}function f(e){return e.id}function x(){const e=Date.now(),t=[];for(let n=0;n<1e3;n++)t.push({id:n,title:`Task #${n+1}`,client:r().company.companyName(),area:r().name.jobArea(),country:r().address.country(),contact:r().internet.exampleEmail(),assignee:r().name.findName(),progress:100*Math.random(),startTimestamp:e-Math.round(1e10*Math.random()),endTimestamp:e+Math.round(1e10*Math.random()),budget:500+10500*Math.random(),transaction:r().finance.transactionType(),account:r().finance.iban(),version:r().system.semver(),available:Math.random()>.5});return t}function b(e){switch(e){case"assignee":case"title":case"client":case"area":case"country":case"contact":case"transaction":case"account":case"version":return(t,n)=>t[e].localeCompare(n[e]);case"available":return(t,n)=>t[e]===n[e]?0:t[e]?1:-1;case"id":case"progress":case"startTimestamp":case"endTimestamp":case"budget":return(t,n)=>t[e]-n[e];default:throw new Error(`unsupported sortColumn: "${e}"`)}}function C(){const[e,t]=(0,a.useState)(x),[o,r]=(0,a.useState)([]),[p,g]=(0,a.useState)((()=>new Set)),C=(0,a.useMemo)((()=>[...new Set(e.map((e=>e.country)))].sort((new Intl.Collator).compare)),[]),k=(0,a.useMemo)((()=>function(e){return[s.F,{key:"id",name:"ID",width:60,frozen:!0,resizable:!1,summaryFormatter:()=>(0,h.jsx)("strong",{children:"Total"})},{key:"title",name:"Task",width:120,frozen:!0,editor:i.Z,summaryFormatter:({row:e})=>(0,h.jsxs)(h.Fragment,{children:[e.totalCount," records"]})},{key:"client",name:"Client",width:220,editor:i.Z},{key:"area",name:"Area",width:120,editor:i.Z},{key:"country",name:"Country",width:180,editor:t=>(0,h.jsx)("select",{autoFocus:!0,className:i.e,value:t.row.country,onChange:e=>t.onRowChange({...t.row,country:e.target.value},!0),children:e.map((e=>(0,h.jsx)("option",{children:e},e)))}),editorOptions:{editOnClick:!0}},{key:"contact",name:"Contact",width:160,editor:i.Z},{key:"assignee",name:"Assignee",width:150,editor:i.Z},{key:"progress",name:"Completion",width:110,formatter(e){const t=e.row.progress;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("progress",{max:100,value:t,style:{width:50}})," ",Math.round(t),"%"]})},editor:({row:e,onRowChange:t,onClose:n})=>(0,h.jsx)("div",{className:"dqpal4h",children:(0,h.jsxs)("dialog",{open:!0,children:[(0,h.jsx)("input",{autoFocus:!0,type:"range",min:"0",max:"100",value:e.progress,onChange:n=>t({...e,progress:n.target.valueAsNumber})}),(0,h.jsxs)("menu",{children:[(0,h.jsx)("button",{onClick:()=>n(),children:"Cancel"}),(0,h.jsx)("button",{onClick:()=>n(!0),children:"Save"})]})]})}),editorOptions:{createPortal:!0}},{key:"startTimestamp",name:"Start date",width:100,formatter:e=>(0,h.jsx)(w,{timestamp:e.row.startTimestamp})},{key:"endTimestamp",name:"Deadline",width:100,formatter:e=>(0,h.jsx)(w,{timestamp:e.row.endTimestamp})},{key:"budget",name:"Budget",width:100,formatter:e=>(0,h.jsx)(y,{value:e.row.budget})},{key:"transaction",name:"Transaction type"},{key:"account",name:"Account",width:150},{key:"version",name:"Version",editor:i.Z},{key:"available",name:"Available",width:80,formatter:({row:e,onRowChange:t,isCellSelected:n})=>(0,h.jsx)(l.m,{value:e.available,onChange:()=>{t({...e,available:!e.available})},onClick:u.U,isCellSelected:n}),summaryFormatter:({row:{yesCount:e,totalCount:t}})=>(0,h.jsx)(h.Fragment,{children:`${Math.floor(100*e/t)}% ✔️`})}]}(C)),[C]),j=(0,a.useMemo)((()=>[{id:"total_0",totalCount:e.length,yesCount:e.filter((e=>e.available)).length}]),[e]),F=(0,a.useMemo)((()=>{if(0===o.length)return e;const t=[...e];return t.sort(((e,t)=>{for(const n of o){const a=b(n.columnKey)(e,t);if(0!==a)return"ASC"===n.direction?a:-a}return 0})),t}),[e,o]),S=(0,h.jsx)(c.Z,{rowKeyGetter:f,columns:k,rows:F,defaultColumnOptions:{sortable:!0,resizable:!0},selectedRows:p,onSelectedRowsChange:g,onRowsChange:t,sortColumns:o,onSortColumnsChange:r,summaryRows:j,className:"fill-grid"});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"t19ziprc",children:[(0,h.jsx)(v,{onExport:()=>async function(e,t){const{head:n,body:a,foot:o}=await m(e),r=[...n,...a,...o].map((e=>e.map(d).join(","))).join("\n");!function(e,t){const n=document.createElement("a");n.download=e;const a=URL.createObjectURL(t);n.href=a,n.click(),URL.revokeObjectURL(a)}(t,new Blob([r],{type:"text/csv;charset=utf-8;"}))}(S,"CommonFeatures.csv"),children:"Export to CSV"}),(0,h.jsx)(v,{onExport:()=>async function(e,t){const[{utils:a,writeFile:o},{head:r,body:s,foot:i}]=await Promise.all([Promise.all([n.e(869),n.e(576)]).then(n.t.bind(n,7869,23)),m(e)]),l=a.book_new(),c=a.aoa_to_sheet([...r,...s,...i]);a.book_append_sheet(l,c,"Sheet 1"),o(l,"CommonFeatures.xlsx")}(S),children:"Export to XSLX"}),(0,h.jsx)(v,{onExport:()=>async function(e,t){const[{jsPDF:a},o,{head:r,body:s,foot:i}]=await Promise.all([n.e(168).then(n.bind(n,1168)),(await Promise.all([n.e(168),n.e(159)]).then(n.t.bind(n,18159,23))).default,await m(e)]),l=new a({orientation:"l",unit:"px"});o(l,{head:r,body:s,foot:i,horizontalPageBreak:!0,styles:{cellPadding:1.5,fontSize:8,cellWidth:"wrap"},tableWidth:"wrap"}),l.save("CommonFeatures.pdf")}(S),children:"Export to PDF"})]}),S]})}function v({onExport:e,children:t}){const[n,o]=(0,a.useState)(!1);return(0,h.jsx)("button",{disabled:n,onClick:async()=>{o(!0),await e(),o(!1)},children:n?"Exporting":t})}n(44454)},93841:(e,t,n)=>{n.r(t)},44454:(e,t,n)=>{n.r(t)}}]);
//# sourceMappingURL=4d42b06a14f89b23a6d8.js.map