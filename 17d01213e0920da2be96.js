"use strict";(globalThis.webpackChunkreact_data_grid=globalThis.webpackChunkreact_data_grid||[]).push([[444],{79753:(e,t,n)=>{n.d(t,{e:()=>o,Z:()=>s});var a=n(85893);const o="rdg-text-editor t1u15qzo";function r(e){null==e||e.focus(),null==e||e.select()}function s({row:e,column:t,onRowChange:n,onClose:s}){return(0,a.jsx)("input",{className:o,ref:r,value:e[t.key],onChange:a=>n({...e,[t.key]:a.target.value}),onBlur:()=>s(!0)})}n(93841)},84013:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(67294),o=n(73935),r=n(85384),s=n.n(r),i=n(89622),l=n(79753),c=n(84836),u=n(30621),m=n(23255);async function d(e){const{renderToStaticMarkup:t}=await n.e(762).then(n.t.bind(n,97762,19)),o=document.createElement("div");return o.innerHTML=t((0,a.cloneElement)(e,{enableVirtualization:!1})),{head:r(".rdg-header-row"),body:r(".rdg-row:not(.rdg-summary-row)"),foot:r(".rdg-summary-row")};function r(e){return Array.from(o.querySelectorAll(e)).map((e=>Array.from(e.querySelectorAll(".rdg-cell")).map((e=>e.innerText))))}}function h(e){if("string"==typeof e){const t=e.replace(/"/g,'""');return t.includes(",")?`"${t}"`:t}return e}var w=n(85893);const g=new Intl.DateTimeFormat(navigator.language),p=new Intl.NumberFormat(navigator.language,{style:"currency",currency:"eur"});function y({timestamp:e}){return(0,w.jsx)(w.Fragment,{children:g.format(e)})}function f({value:e}){return(0,w.jsx)(w.Fragment,{children:p.format(e)})}function x(e){return e.id}function C(){const e=Date.now(),t=[];for(let n=0;n<1e3;n++)t.push({id:n,title:`Task #${n+1}`,client:s().company.companyName(),area:s().name.jobArea(),country:s().address.country(),contact:s().internet.exampleEmail(),assignee:s().name.findName(),progress:100*Math.random(),startTimestamp:e-Math.round(1e10*Math.random()),endTimestamp:e+Math.round(1e10*Math.random()),budget:500+10500*Math.random(),transaction:s().finance.transactionType(),account:s().finance.iban(),version:s().system.semver(),available:Math.random()>.5});return t}function b(e){switch(e){case"assignee":case"title":case"client":case"area":case"country":case"contact":case"transaction":case"account":case"version":return(t,n)=>t[e].localeCompare(n[e]);case"available":return(t,n)=>t[e]===n[e]?0:t[e]?1:-1;case"id":case"progress":case"startTimestamp":case"endTimestamp":case"budget":return(t,n)=>t[e]-n[e];default:throw new Error(`unsupported sortColumn: "${e}"`)}}function j(){const[e,t]=(0,a.useState)(C),[r,s]=(0,a.useState)([]),[g,p]=(0,a.useState)((()=>new Set)),j=(0,a.useMemo)((()=>[...new Set(e.map((e=>e.country)))].sort((new Intl.Collator).compare)),[]),k=(0,a.useMemo)((()=>function(e){return[i.F,{key:"id",name:"ID",width:60,frozen:!0,resizable:!1,summaryFormatter:()=>(0,w.jsx)("strong",{children:"Total"})},{key:"title",name:"Task",width:120,frozen:!0,editor:l.Z,summaryFormatter:({row:e})=>(0,w.jsxs)(w.Fragment,{children:[e.totalCount," records"]})},{key:"client",name:"Client",width:220,editor:l.Z},{key:"area",name:"Area",width:120,editor:l.Z},{key:"country",name:"Country",width:180,editor:t=>(0,w.jsx)("select",{autoFocus:!0,className:l.e,value:t.row.country,onChange:e=>t.onRowChange({...t.row,country:e.target.value},!0),children:e.map((e=>(0,w.jsx)("option",{children:e},e)))}),editorOptions:{editOnClick:!0}},{key:"contact",name:"Contact",width:160,editor:l.Z},{key:"assignee",name:"Assignee",width:150,editor:l.Z},{key:"progress",name:"Completion",width:110,formatter(e){const t=e.row.progress;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("progress",{max:100,value:t,style:{width:50}})," ",Math.round(t),"%"]})},editor:({row:e,column:t,onRowChange:n,onClose:a})=>(0,w.jsxs)(w.Fragment,{children:[(0,o.createPortal)((0,w.jsx)("div",{className:"dqpal4h",onKeyDown:e=>{"Escape"===e.key&&a()},children:(0,w.jsxs)("dialog",{open:!0,children:[(0,w.jsx)("input",{autoFocus:!0,type:"range",min:"0",max:"100",value:e.progress,onChange:t=>n({...e,progress:t.target.valueAsNumber})}),(0,w.jsxs)("menu",{children:[(0,w.jsx)("button",{onClick:()=>a(),children:"Cancel"}),(0,w.jsx)("button",{onClick:()=>a(!0),children:"Save"})]})]})}),document.body),(0,w.jsx)("div",{className:"d2zu5hc",children:(0,w.jsx)(t.formatter,{column:t,row:e,isCellSelected:!0,onRowChange:n})})]})},{key:"startTimestamp",name:"Start date",width:100,formatter:e=>(0,w.jsx)(y,{timestamp:e.row.startTimestamp})},{key:"endTimestamp",name:"Deadline",width:100,formatter:e=>(0,w.jsx)(y,{timestamp:e.row.endTimestamp})},{key:"budget",name:"Budget",width:100,formatter:e=>(0,w.jsx)(f,{value:e.row.budget})},{key:"transaction",name:"Transaction type"},{key:"account",name:"Account",width:150},{key:"version",name:"Version",editor:l.Z},{key:"available",name:"Available",width:80,formatter:({row:e,onRowChange:t,isCellSelected:n})=>(0,w.jsx)(c.m,{value:e.available,onChange:()=>{t({...e,available:!e.available})},onClick:m.U,isCellSelected:n}),summaryFormatter:({row:{yesCount:e,totalCount:t}})=>(0,w.jsx)(w.Fragment,{children:`${Math.floor(100*e/t)}% ✔️`})}]}(j)),[j]),F=(0,a.useMemo)((()=>[{id:"total_0",totalCount:e.length,yesCount:e.filter((e=>e.available)).length}]),[e]),S=(0,a.useMemo)((()=>{if(0===r.length)return e;const t=[...e];return t.sort(((e,t)=>{for(const n of r){const a=b(n.columnKey)(e,t);if(0!==a)return"ASC"===n.direction?a:-a}return 0})),t}),[e,r]),T=(0,w.jsx)(u.Z,{rowKeyGetter:x,columns:k,rows:S,defaultColumnOptions:{sortable:!0,resizable:!0},selectedRows:g,onSelectedRowsChange:p,onRowsChange:t,sortColumns:r,onSortColumnsChange:s,summaryRows:F,className:"fill-grid"});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"t19ziprc",children:[(0,w.jsx)(v,{onExport:()=>async function(e,t){const{head:n,body:a,foot:o}=await d(e),r=[...n,...a,...o].map((e=>e.map(h).join(","))).join("\n");!function(e,t){const n=document.createElement("a");n.download=e;const a=URL.createObjectURL(t);n.href=a,n.click(),URL.revokeObjectURL(a)}(t,new Blob([r],{type:"text/csv;charset=utf-8;"}))}(T,"CommonFeatures.csv"),children:"Export to CSV"}),(0,w.jsx)(v,{onExport:()=>async function(e,t){const[{utils:a,writeFile:o},{head:r,body:s,foot:i}]=await Promise.all([Promise.all([n.e(869),n.e(576)]).then(n.t.bind(n,7869,23)),d(e)]),l=a.book_new(),c=a.aoa_to_sheet([...r,...s,...i]);a.book_append_sheet(l,c,"Sheet 1"),o(l,"CommonFeatures.xlsx")}(T),children:"Export to XSLX"}),(0,w.jsx)(v,{onExport:()=>async function(e,t){const[{jsPDF:a},o,{head:r,body:s,foot:i}]=await Promise.all([n.e(851).then(n.bind(n,27851)),(await Promise.all([n.e(851),n.e(159)]).then(n.t.bind(n,18159,23))).default,await d(e)]),l=new a({orientation:"l",unit:"px"});o(l,{head:r,body:s,foot:i,horizontalPageBreak:!0,styles:{cellPadding:1.5,fontSize:8,cellWidth:"wrap"},tableWidth:"wrap"}),l.save("CommonFeatures.pdf")}(T),children:"Export to PDF"})]}),T]})}function v({onExport:e,children:t}){const[n,o]=(0,a.useState)(!1);return(0,w.jsx)("button",{disabled:n,onClick:async()=>{o(!0),await e(),o(!1)},children:n?"Exporting":t})}n(44454)},93841:(e,t,n)=>{n.r(t)},44454:(e,t,n)=>{n.r(t)}}]);
//# sourceMappingURL=17d01213e0920da2be96.js.map