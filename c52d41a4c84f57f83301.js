"use strict";(globalThis.webpackChunkreact_data_grid=globalThis.webpackChunkreact_data_grid||[]).push([[629],{89622:(e,o,n)=>{n.d(o,{W:()=>s,F:()=>d});var t=n(84836),r=n(57163),l=n(23255),i=n(85893);const s="select-row",d={key:s,name:"",width:35,maxWidth:35,resizable:!1,sortable:!1,frozen:!0,headerRenderer:e=>(0,i.jsx)(t.m,{"aria-label":"Select All",isCellSelected:e.isCellSelected,value:e.allRowsSelected,onChange:e.onAllRowsSelectionChange,onClick:l.U}),formatter:function(e){const[o,n]=(0,r.Gt)();return(0,i.jsx)(t.m,{"aria-label":"Select",isCellSelected:e.isCellSelected,value:o,onClick:l.U,onChange:(o,t)=>{n({row:e.row,checked:o,isShiftClick:t})}})},groupFormatter:function(e){const[o,n]=(0,r.Gt)();return(0,i.jsx)(t.m,{"aria-label":"Select Group",isCellSelected:e.isCellSelected,value:o,onChange:o=>{n({row:e.row,checked:o,isShiftClick:!1})},onClick:l.U})}}},30621:(e,o,n)=>{n.d(o,{Z:()=>K});var t=n(67294),r=n(86010);n(42995);var l=n(98321),i=n(85893);function s(e){try{return(0,i.jsx)(i.Fragment,{children:e.row[e.column.key]})}catch{return null}}var d=n(65567);function c({groupKey:e,isExpanded:o,isCellSelected:n,toggleGroup:t}){const{ref:r,tabIndex:l}=(0,d.n)(n),s=o?"M1 1 L 7 7 L 13 1":"M1 7 L 7 1 L 13 7";return(0,i.jsxs)("span",{ref:r,className:"rdg-group-cell-content g1vzro7t",tabIndex:l,onKeyDown:function({key:e}){"Enter"===e&&t()},children:[e,(0,i.jsx)("svg",{viewBox:"0 0 14 8",width:"14",height:"8",className:"rdg-caret c1fsqdic","aria-hidden":!0,children:(0,i.jsx)("path",{d:s})})]})}n(51802);var a=n(89622),u=n(66707);function w({key:e,width:o},n,t){return n.has(e)?n.get(e):"number"==typeof o?o:"string"==typeof o&&/^\d+%$/.test(o)?(0,u.GW)(t*parseInt(o,10)/100):void 0}function f(e,{minWidth:o,maxWidth:n},t){return e=(0,u.Fp)(e,null!=o?o:t),"number"==typeof n?(0,u.VV)(e,n):e}var x=n(49972),m=n(22846),g=n(57163),h=n(66199),p=n(23399);function C({column:e,colSpan:o,isCellSelected:n,onColumnResize:t,allRowsSelected:r,onAllRowsSelectionChange:l,sortColumns:s,onSortColumnsChange:d,selectCell:c,shouldFocusGrid:a}){const{ref:w,tabIndex:f,onFocus:x}=(0,p.u)(n),m=null==s?void 0:s.findIndex((o=>o.columnKey===e.key)),g=void 0!==m&&m>-1?s[m]:void 0,C=null==g?void 0:g.direction,v=void 0!==g&&s.length>1?m+1:void 0,I=C&&!v?"ASC"===C?"ascending":"descending":void 0,R=(0,u.bJ)(e,e.headerCellClass,e.resizable&&"rdg-cell-resizable c6l2wv1");function y(o){if(null==d)return;const{sortDescendingFirst:n}=e;if(void 0===g){const t={columnKey:e.key,direction:n?"DESC":"ASC"};d(s&&o?[...s,t]:[t])}else{let t;if((n&&"DESC"===C||!n&&"ASC"===C)&&(t={columnKey:e.key,direction:"ASC"===C?"DESC":"ASC"}),o){const e=[...s];t?e[m]=t:e.splice(m,1),d(e)}else d(t?[t]:[])}}return(0,i.jsx)("div",{role:"columnheader","aria-colindex":e.idx+1,"aria-selected":n,"aria-sort":I,"aria-colspan":o,ref:w,tabIndex:a?0:f,className:R,style:(0,u.pB)(e,o),onFocus:function(e){x(e),a&&c(0)},onClick:function(){c(e.idx)},onPointerDown:e.resizable?function(o){if("mouse"===o.pointerType&&1!==o.buttons)return;const{currentTarget:n,pointerId:r}=o,{right:l}=n.getBoundingClientRect(),i=l-o.clientX;function s(o){const r=o.clientX+i-n.getBoundingClientRect().left;r>0&&t(e,r)}i>11||(n.setPointerCapture(r),n.addEventListener("pointermove",s),n.addEventListener("lostpointercapture",(function e(){n.removeEventListener("pointermove",s),n.removeEventListener("lostpointercapture",e)})))}:void 0,children:e.headerRenderer?(0,i.jsx)(e.headerRenderer,{column:e,sortDirection:C,priority:v,onSort:y,allRowsSelected:r,onAllRowsSelectionChange:l,isCellSelected:n}):e.sortable?(0,i.jsx)(h.Z,{onSort:y,sortDirection:C,priority:v,isCellSelected:n,children:e.name}):e.name})}n(14866);var v=n(84941);function I({columns:e,allRowsSelected:o,onAllRowsSelectionChange:n,onColumnResize:t,sortColumns:l,onSortColumnsChange:s,lastFrozenColumnIndex:d,selectedCellIdx:c,selectCell:a,shouldFocusGrid:u}){const{ref:w,tabIndex:f,className:m}=(0,v.W)(c),g=[];for(let r=0;r<e.length;r++){const w=e[r],f=(0,x.S)(w,d,{type:"HEADER"});void 0!==f&&(r+=f-1),g.push((0,i.jsx)(C,{column:w,colSpan:f,isCellSelected:c===w.idx,onColumnResize:t,allRowsSelected:o,onAllRowsSelectionChange:n,onSortColumnsChange:s,sortColumns:l,selectCell:a,shouldFocusGrid:u&&0===r},w.key))}return(0,i.jsx)("div",{role:"row","aria-rowindex":1,ref:w,tabIndex:f,className:(0,r.Z)("rdg-header-row h10tskcx",m),children:g})}const R=(0,t.memo)(I);n(27010);var y=n(57080),b=n(4597);function S({id:e,groupKey:o,childRows:n,isExpanded:t,isCellSelected:r,column:l,row:s,groupColumnIndex:d,toggleGroup:c}){const{ref:a,tabIndex:w,onFocus:f}=(0,p.u)(r);function x(){c(e)}const m=l.rowGroup&&d===l.idx;return(0,i.jsx)("div",{role:"gridcell","aria-colindex":l.idx+1,"aria-selected":r,ref:a,tabIndex:w,className:(0,u.bJ)(l),style:{...(0,u.pB)(l),cursor:m?"pointer":"default"},onClick:m?x:void 0,onFocus:f,children:(!l.rowGroup||d===l.idx)&&l.groupFormatter&&(0,i.jsx)(l.groupFormatter,{groupKey:o,childRows:n,column:l,row:s,isExpanded:t,isCellSelected:r,toggleGroup:x})},l.key)}const k=(0,t.memo)(S);function E({id:e,groupKey:o,viewportColumns:n,childRows:t,rowIdx:l,row:s,top:d,height:c,level:u,isExpanded:w,selectedCellIdx:f,isRowSelected:x,selectGroup:m,toggleGroup:h,...p}){const{ref:C,tabIndex:I,className:R}=(0,v.W)(f),y=n[0].key===a.W?u+1:u;return(0,i.jsx)(g.hs,{value:x,children:(0,i.jsx)("div",{role:"row","aria-level":u,"aria-expanded":w,ref:C,tabIndex:I,className:(0,r.Z)(b.o,"rdg-group-row g1yxluv3","rdg-row-"+(l%2==0?"even":"odd"),R),onClick:function(){m(l)},style:{top:d,"--row-height":`${c}px`},...p,children:n.map((n=>(0,i.jsx)(k,{id:e,groupKey:o,childRows:t,isExpanded:w,isCellSelected:f===n.idx,column:n,row:s,groupColumnIndex:y,toggleGroup:h},n.key)))})})}const F=(0,t.memo)(E);function z({column:e,colSpan:o,row:n,isCellSelected:t,selectCell:r}){const{ref:l,tabIndex:s,onFocus:d}=(0,p.u)(t),{summaryFormatter:c,summaryCellClass:a}=e,w=(0,u.bJ)(e,"function"==typeof a?a(n):a);return(0,i.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":o,"aria-selected":t,ref:l,tabIndex:s,className:w,style:(0,u.pB)(e,o),onClick:function(){r(n,e)},onFocus:d,children:c&&(0,i.jsx)(c,{column:e,row:n,isCellSelected:t})})}n(47759);const G=(0,t.memo)(z);function O({rowIdx:e,row:o,viewportColumns:n,bottom:t,lastFrozenColumnIndex:l,selectedCellIdx:s,selectCell:d,"aria-rowindex":c}){const{ref:a,tabIndex:u,className:w}=(0,v.W)(s),f=[];for(let e=0;e<n.length;e++){const t=n[e],r=(0,x.S)(t,l,{type:"SUMMARY",row:o});void 0!==r&&(e+=r-1);const c=s===t.idx;f.push((0,i.jsx)(G,{column:t,colSpan:r,row:o,isCellSelected:c,selectCell:d},t.key))}return(0,i.jsx)("div",{role:"row","aria-rowindex":c,ref:a,tabIndex:u,className:(0,r.Z)(b.o,"rdg-row-"+(e%2==0?"even":"odd"),"rdg-summary-row skuhp55",w,0===e&&"sf8l5ub"),style:{bottom:t},children:f})}const D=(0,t.memo)(O);function j({column:e,colSpan:o,row:n,onRowChange:r,onClose:l}){const s=(0,t.useRef)(),d=(0,m.q)((()=>{r(n,!0)}));function c(){cancelAnimationFrame(s.current)}(0,t.useEffect)((()=>{function e(){s.current=requestAnimationFrame(d)}return addEventListener("mousedown",e,{capture:!0}),()=>{removeEventListener("mousedown",e,{capture:!0}),c()}}),[d]);const{cellClass:a}=e,w=(0,u.bJ)(e,"rdg-editor-container cis5rrm","function"==typeof a?a(n):a);return(0,i.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":o,"aria-selected":!0,className:w,style:(0,u.pB)(e,o),onMouseDownCapture:c,children:null!=e.editor&&(0,i.jsx)(e.editor,{column:e,row:n,onRowChange:r,onClose:l})})}function N({rows:e,columns:o,selectedPosition:n,latestDraggedOverRowIdx:t,isCellEditable:r,onRowsChange:l,onFill:s,setDragging:d,setDraggedOverRowIdx:c}){function a(t,i){const{idx:d,rowIdx:c}=n,a=o[d],u=e[c],w=[...e],f=[];for(let o=t;o<i;o++)if(r({rowIdx:o,idx:d})){const n=s({columnKey:a.key,sourceRow:u,targetRow:e[o]});n!==e[o]&&(w[o]=n,f.push(o))}f.length>0&&(null==l||l(w,{indexes:f,column:a}))}return(0,i.jsx)("div",{className:"rdg-cell-drag-handle c1w9bbhr",onMouseDown:function(e){function o(e){1!==e.buttons&&r()}function r(){window.removeEventListener("mouseover",o),window.removeEventListener("mouseup",r),d(!1),function(){const e=t.current;if(void 0===e)return;const{rowIdx:o}=n;a(o<e?o+1:e,o<e?e+1:o),c(void 0)}()}1===e.buttons&&(d(!0),window.addEventListener("mouseover",o),window.addEventListener("mouseup",r))},onDoubleClick:function(o){o.stopPropagation(),a(n.rowIdx+1,e.length)}})}n(57319),n(93246),n(68822);const A=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function H(e){return(e.ctrlKey||e.metaKey)&&"Control"!==e.key}function L({key:e,target:o}){return"Tab"===e&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement)&&o.matches(".rdg-editor-container > :only-child, .rdg-editor-container > label:only-child > :only-child")}var T=n(61294);const M={idx:-1,rowIdx:-2,mode:"SELECT"};function W({columns:e,rows:o,summaryRows:n,rowKeyGetter:d,onRowsChange:h,rowHeight:p,headerRowHeight:C,summaryRowHeight:v,selectedRows:I,onSelectedRowsChange:b,sortColumns:S,onSortColumnsChange:k,defaultColumnOptions:E,groupBy:z,rowGrouper:G,expandedGroupIds:O,onExpandedGroupIdsChange:W,onRowClick:K,onRowDoubleClick:P,onScroll:B,onColumnResize:V,onSelectedCellChange:q,onFill:U,onPaste:$,cellNavigationMode:Z,enableVirtualization:J,rowRenderer:_,noRowsFallback:X,className:Y,style:Q,rowClass:ee,"aria-label":oe,"aria-labelledby":ne,"aria-describedby":te,"data-testid":re},le){var ie;null!=p||(p=35);const se=null!=C?C:"number"==typeof p?p:35,de=null!=v?v:"number"==typeof p?p:35,ce=null!=_?_:y.Z,ae=null!=Z?Z:"NONE";null!=J||(J=!0);const[ue,we]=(0,t.useState)(0),[fe,xe]=(0,t.useState)(0),[me,ge]=(0,t.useState)((()=>new Map)),[he,pe]=(0,t.useState)(M),[Ce,ve]=(0,t.useState)(null),[Ie,Re]=(0,t.useState)(!1),[ye,be]=(0,t.useState)(void 0),Se=(0,t.useRef)(he),ke=(0,t.useRef)(ye),Ee=(0,t.useRef)(-1),[Fe,ze,Ge]=function(){const e=(0,t.useRef)(null),[o,n]=(0,t.useState)(1),[r,i]=(0,t.useState)(1);return(0,l.b)((()=>{const{ResizeObserver:o}=window;if(null==o)return;const t=new o((()=>{const{clientWidth:o,clientHeight:t}=e.current;n(o-(devicePixelRatio%1==0?0:1)),i(t)}));return t.observe(e.current),()=>{t.disconnect()}}),[]),[e,o,r]}(),Oe=null!=(ie=null==n?void 0:n.length)?ie:0,De=Ge-se-Oe*de,je=null!=I&&null!=b,Ne=-1===he.rowIdx,Ae=(0,t.useMemo)((()=>{const{length:e}=o;return 0!==e&&null!=I&&null!=d&&I.size>=e&&o.every((e=>I.has(d(e))))}),[o,I,d]),{columns:He,colSpanColumns:Le,colOverscanStartIdx:Te,colOverscanEndIdx:Me,layoutCssVars:We,columnMetrics:Ke,totalColumnWidth:Pe,lastFrozenColumnIndex:Be,totalFrozenColumnWidth:Ve,groupBy:qe}=function({rawColumns:e,columnWidths:o,viewportWidth:n,scrollLeft:r,defaultColumnOptions:l,rawGroupBy:i,enableVirtualization:d}){var x,m,g,h;const p=null!=(x=null==l?void 0:l.minWidth)?x:80,C=null!=(m=null==l?void 0:l.formatter)?m:s,v=null!=(g=null==l?void 0:l.sortable)&&g,I=null!=(h=null==l?void 0:l.resizable)&&h,{columns:R,colSpanColumns:y,lastFrozenColumnIndex:b,groupBy:S}=(0,t.useMemo)((()=>{const o=[];let n=-1;const t=e.map((e=>{var o,t,r,l;const s=null!=(o=null==i?void 0:i.includes(e.key))&&o,d=s||e.frozen||!1,a={...e,idx:0,frozen:d,isLastFrozenColumn:!1,rowGroup:s,sortable:null!=(t=e.sortable)?t:v,resizable:null!=(r=e.resizable)?r:I,formatter:null!=(l=e.formatter)?l:C};return s&&(null!=a.groupFormatter||(a.groupFormatter=c)),d&&n++,a}));t.sort((({key:e,frozen:o},{key:n,frozen:t})=>e===a.W?-1:n===a.W?1:null!=i&&i.includes(e)?i.includes(n)?i.indexOf(e)-i.indexOf(n):-1:null!=i&&i.includes(n)?1:o?t?0:-1:t?1:0));const r=[];return t.forEach(((e,n)=>{e.idx=n,e.rowGroup&&o.push(e.key),null!=e.colSpan&&r.push(e)})),-1!==n&&(t[n].isLastFrozenColumn=!0),{columns:t,colSpanColumns:r,lastFrozenColumnIndex:n,groupBy:o}}),[e,C,I,v,i]),{layoutCssVars:k,totalColumnWidth:E,totalFrozenColumnWidth:F,columnMetrics:z}=(0,t.useMemo)((()=>{const e=new Map;let t=0,r=0,l=0,i="",s=0,d=0;for(const t of R){let r=w(t,o,n);void 0===r?d++:(r=f(r,t,p),s+=r,e.set(t,{width:r,left:0}))}const c=(n-s)/d;for(const o of R){let n;if(e.has(o)){const r=e.get(o);r.left=t,({width:n}=r)}else n=f(c,o,p),e.set(o,{width:n,left:t});r+=n,t+=n,i+=`${n}px `}if(-1!==b){const o=e.get(R[b]);l=o.left+o.width}const a={"--template-columns":i};for(let o=0;o<=b;o++){const n=R[o];a[`--frozen-left-${n.idx}`]=`${e.get(n).left}px`}return{layoutCssVars:a,totalColumnWidth:r,totalFrozenColumnWidth:l,columnMetrics:e}}),[o,R,n,p,b]),[G,O]=(0,t.useMemo)((()=>{if(!d)return[0,R.length-1];const e=r+F,o=r+n,t=R.length-1,l=(0,u.VV)(b+1,t);if(e>=o)return[l,l];let i=l;for(;i<t;){const{left:o,width:n}=z.get(R[i]);if(o+n>e)break;i++}let s=i;for(;s<t;){const{left:e,width:n}=z.get(R[s]);if(e+n>=o)break;s++}return[(0,u.Fp)(l,i-1),(0,u.VV)(t,s+1)]}),[z,R,b,r,F,n,d]);return{columns:R,colSpanColumns:y,colOverscanStartIdx:G,colOverscanEndIdx:O,layoutCssVars:k,columnMetrics:z,totalColumnWidth:E,lastFrozenColumnIndex:b,totalFrozenColumnWidth:F,groupBy:S}}({rawColumns:e,columnWidths:me,scrollLeft:fe,viewportWidth:ze,defaultColumnOptions:E,rawGroupBy:G?z:void 0,enableVirtualization:J}),{rowOverscanStartIdx:Ue,rowOverscanEndIdx:$e,rows:Ze,rowsCount:Je,totalRowHeight:_e,isGroupRow:Xe,getRowTop:Ye,getRowHeight:Qe,findRowIdx:eo}=function({rawRows:e,rowHeight:o,clientHeight:n,scrollTop:r,groupBy:l,rowGrouper:i,expandedGroupIds:s,enableVirtualization:d}){const[c,a]=(0,t.useMemo)((()=>{if(0===l.length||null==i)return[void 0,e.length];const o=(e,[n,...t],r)=>{let l=0;const s={};for(const[d,c]of Object.entries(i(e,n))){const[e,n]=0===t.length?[c,c.length]:o(c,t,r+l+1);s[d]={childRows:c,childGroups:e,startRowIndex:r+l},l+=n+1}return[s,l]};return o(e,l,0)}),[l,i,e]),[w,f]=(0,t.useMemo)((()=>{const o=new Set;if(!c)return[e,r];const n=[],t=(e,r,l)=>{var i;i=e,Array.isArray(i)?n.push(...e):Object.keys(e).forEach(((i,d,c)=>{var a;const u=void 0!==r?`${r}__${i}`:i,w=null!=(a=null==s?void 0:s.has(u))&&a,{childRows:f,childGroups:x,startRowIndex:m}=e[i],g={id:u,parentId:r,groupKey:i,isExpanded:w,childRows:f,level:l,posInSet:d,startRowIndex:m,setSize:c.length};n.push(g),o.add(g),w&&t(x,u,l+1)}))};return t(c,void 0,0),[n,r];function r(e){return o.has(e)}}),[s,c,e]),{totalRowHeight:x,getRowTop:m,getRowHeight:g,findRowIdx:h}=(0,t.useMemo)((()=>{if("number"==typeof o)return{totalRowHeight:o*w.length,getRowTop:e=>e*o,getRowHeight:()=>o,findRowIdx:e=>(0,u.GW)(e/o)};let e=0;const n=w.map((n=>{const t=f(n)?o({type:"GROUP",row:n}):o({type:"ROW",row:n}),r={top:e,height:t};return e+=t,r})),t=e=>(0,u.Fp)(0,(0,u.VV)(w.length-1,e));return{totalRowHeight:e,getRowTop:e=>n[t(e)].top,getRowHeight:e=>n[t(e)].height,findRowIdx(e){let o=0,t=n.length-1;for(;o<=t;){const r=o+(0,u.GW)((t-o)/2),l=n[r].top;if(l===e)return r;if(l<e?o=r+1:l>e&&(t=r-1),o>t)return t}return 0}}}),[f,o,w]);if(!d)return{rowOverscanStartIdx:0,rowOverscanEndIdx:w.length-1,rows:w,rowsCount:a,totalRowHeight:x,isGroupRow:f,getRowTop:m,getRowHeight:g,findRowIdx:h};const p=h(r),C=h(r+n);return{rowOverscanStartIdx:(0,u.Fp)(0,p-4),rowOverscanEndIdx:(0,u.VV)(w.length-1,C+4),rows:w,rowsCount:a,totalRowHeight:x,isGroupRow:f,getRowTop:m,getRowHeight:g,findRowIdx:h}}({rawRows:o,groupBy:qe,rowGrouper:G,rowHeight:p,clientHeight:De,scrollTop:ue,expandedGroupIds:O,enableVirtualization:J}),oo=function({columns:e,colSpanColumns:o,rows:n,summaryRows:r,colOverscanStartIdx:l,colOverscanEndIdx:i,lastFrozenColumnIndex:s,rowOverscanStartIdx:d,rowOverscanEndIdx:c,isGroupRow:a}){const u=(0,t.useMemo)((()=>{if(0===l)return 0;let e=l;const t=(o,n)=>void 0!==n&&o+n>l&&(e=o,!0);for(const l of o){const o=l.idx;if(o>=e)break;if(t(o,(0,x.S)(l,s,{type:"HEADER"})))break;for(let e=d;e<=c;e++){const r=n[e];if(!a(r)&&t(o,(0,x.S)(l,s,{type:"ROW",row:r})))break}if(null!=r)for(const e of r)if(t(o,(0,x.S)(l,s,{type:"SUMMARY",row:e})))break}return e}),[d,c,n,r,l,s,o,a]);return(0,t.useMemo)((()=>{const o=[];for(let n=0;n<=i;n++){const t=e[n];n<u&&!t.frozen||o.push(t)}return o}),[u,i,e])}({columns:He,colSpanColumns:Le,colOverscanStartIdx:Te,colOverscanEndIdx:Me,lastFrozenColumnIndex:Be,rowOverscanStartIdx:Ue,rowOverscanEndIdx:$e,rows:Ze,summaryRows:n,isGroupRow:Xe}),no=qe.length>0&&"function"==typeof G,to=no?-1:0,ro=He.length-1,lo=1+Ze.length+Oe-2,io=Fo(he),so=zo(he),co=(0,m.q)(Co),ao=(0,m.q)((function(e){if(!b)return;(0,u.J7)(d);const n=new Set(I);for(const t of o){const o=d(t);e?n.add(o):n.delete(o)}b(n)})),uo=(0,m.q)(Ro),wo=(0,m.q)(((e,o,n)=>{Oo({rowIdx:Ze.indexOf(e),idx:o.idx},n)})),fo=(0,m.q)((e=>{Oo({rowIdx:e,idx:-1})})),xo=(0,m.q)((e=>{Oo({rowIdx:-1,idx:e})})),mo=(0,m.q)(((e,o)=>{Oo({rowIdx:n.indexOf(e)+1+Ze.length-1,idx:o.idx})})),go=(0,m.q)(vo);(0,l.b)((()=>{io&&he!==Se.current&&"EDIT"!==he.mode&&(Se.current=he,jo(he))})),(0,t.useImperativeHandle)(le,(()=>({element:Fe.current,scrollToColumn(e){jo({idx:e})},scrollToRow(e){const{current:o}=Fe;o&&o.scrollTo({top:Ye(e),behavior:"smooth"})},selectCell:Oo})));const ho=(0,t.useCallback)(((e,o)=>{ge((n=>{const t=new Map(n);return t.set(e.key,o),t})),null==V||V(e.idx,o)}),[V]),po=(0,t.useCallback)((e=>{be(e),ke.current=e}),[]);function Co({row:e,checked:o,isShiftClick:n}){if(!b)return;(0,u.J7)(d);const t=new Set(I);if(Xe(e)){for(const n of e.childRows){const e=d(n);o?t.add(e):t.delete(e)}return void b(t)}const r=d(e);if(o){t.add(r);const o=Ee.current,l=Ze.indexOf(e);if(Ee.current=l,n&&-1!==o&&o!==l){const e=(0,u.Xx)(l-o);for(let n=o+e;n!==l;n+=e){const e=Ze[n];Xe(e)||t.add(d(e))}}}else t.delete(r),Ee.current=-1;b(t)}function vo(e){if(!W)return;const o=new Set(O);o.has(e)?o.delete(e):o.add(e),W(o)}function Io(e){return no?o.indexOf(Ze[e]):e}function Ro(e,n){if("function"!=typeof h)return;const t=Io(e);if(n===o[t])return;const r=[...o];r[t]=n,h(r,{indexes:[t],column:He[he.idx]})}function yo(){var e;null!=(null==(e=He[he.idx])?void 0:e.editor)&&"SELECT"!==he.mode&&he.row!==he.originalRow&&Ro(he.rowIdx,he.row)}function bo(e,o){"SELECT"!==he.mode&&(o?(Ro(he.rowIdx,e),Do()):pe((o=>({...o,row:e}))))}function So(e){e&&yo(),Do()}function ko(e){return e>=to&&e<=ro}function Eo(e){return e>=0&&e<Ze.length}function Fo({idx:e,rowIdx:o}){return o>=-1&&o<=lo&&ko(e)}function zo({idx:e,rowIdx:o}){return Eo(o)&&ko(e)}function Go(e){return zo(e)&&(0,T.t)({columns:He,rows:Ze,selectedPosition:e,isGroupRow:Xe})}function Oo(e,o){if(Fo(e))if(yo(),o&&Go(e)){const o=Ze[e.rowIdx];pe({...e,mode:"EDIT",key:null,row:o,originalRow:o}),null==q||q(e)}else"SELECT"===he.mode&&he.idx===e.idx&&he.rowIdx===e.rowIdx||(pe({...e,mode:"SELECT"}),null==q||q(e))}function Do(){"SELECT"!==he.mode&&pe((({idx:e,rowIdx:o})=>({idx:e,rowIdx:o,mode:"SELECT"})))}function jo({idx:e,rowIdx:o}){const{current:t}=Fe;if(t){if("number"==typeof e&&e>Be){if(null!=o||(o=he.rowIdx),!Fo({rowIdx:o,idx:e}))return;const{clientWidth:r}=t,l=He[e],{left:i,width:s}=Ke.get(l);let d=i+s;const c=(0,T.Hc)({rows:Ze,summaryRows:n,rowIdx:o,lastFrozenColumnIndex:Be,column:l,isGroupRow:Xe});if(void 0!==c){const{left:e,width:o}=Ke.get(He[l.idx+c-1]);d=e+o}const a=d>r+fe;i<fe+Ve?t.scrollLeft=i-Ve:a&&(t.scrollLeft=d-r)}if("number"==typeof o&&Eo(o)){const e=Ye(o),n=Qe(o);e<ue?t.scrollTop=e:e+n>ue+De&&(t.scrollTop=e+n-De)}}}function No(e){if(void 0===ye)return;const{rowIdx:o}=he;return(o<ye?o<e&&e<=ye:o>e&&e>=ye)?he.idx:void 0}function Ao(e){if(he.rowIdx===e&&"EDIT"!==he.mode&&!no&&null!=U)return(0,i.jsx)(N,{rows:o,columns:He,selectedPosition:he,isCellEditable:Go,latestDraggedOverRowIdx:ke,onRowsChange:h,onFill:U,setDragging:Re,setDraggedOverRowIdx:po})}function Ho(e){if(he.rowIdx!==e||"SELECT"===he.mode)return;const{idx:o,row:n}=he,t=He[o],r=(0,x.S)(t,Be,{type:"ROW",row:n});return(0,i.jsx)(j,{column:t,colSpan:r,row:n,onRowChange:bo,onClose:So},t.key)}return(he.idx>ro||he.rowIdx>lo)&&(pe(M),po(void 0)),"EDIT"===he.mode&&Ze[he.rowIdx]!==he.originalRow&&Do(),(0,i.jsxs)("div",{role:no?"treegrid":"grid","aria-label":oe,"aria-labelledby":ne,"aria-describedby":te,"aria-multiselectable":!!je||void 0,"aria-colcount":He.length,"aria-rowcount":1+Je+Oe,className:(0,r.Z)("rdg rnvodz5",Y,Ie&&"rdg-viewport-dragging vlqv91k"),style:{...Q,"--header-row-height":`${se}px`,"--row-width":`${Pe}px`,"--summary-row-height":`${de}px`,...We},ref:Fe,onScroll:function(e){const{scrollTop:o,scrollLeft:n}=e.currentTarget;we(o),xe(n),null==B||B(e)},onKeyDown:function(e){if(!(e.target instanceof Element))return;const t=null!==e.target.closest(".rdg-cell"),r=no&&e.target.matches(".rdg-row, .rdg-header-row");if(!t&&!r)return;const{key:l,keyCode:i}=e,{rowIdx:s}=he;if(so&&null!=$&&H(e)&&!Xe(Ze[s])&&"SELECT"===he.mode){const e=86;if(67===i)return void function(){const{idx:e,rowIdx:n}=he;ve({row:o[Io(n)],columnKey:He[e].key})}();if(i===e)return void function(){if(!$||!h||null===Ce||!Go(he))return;const{idx:e,rowIdx:n}=he,t=o[Io(n)];Ro(n,$({sourceRow:Ce.row,sourceColumnKey:Ce.columnKey,targetRow:t,targetColumnKey:He[e].key}))}()}if(Eo(s)){const o=Ze[s];if(Xe(o)&&-1===he.idx&&("ArrowLeft"===l&&o.isExpanded||"ArrowRight"===l&&!o.isExpanded))return e.preventDefault(),void vo(o.id)}switch(e.key){case"Escape":return ve(null),void Do();case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":!function(e){var o,t;if("EDIT"===he.mode&&!(null!=(o=null==(t=He[he.idx].editorOptions)?void 0:t.onNavigation)?o:L)(e))return;const{key:r,shiftKey:l}=e;let i=ae;if("Tab"===r){if((0,T.au)({shiftKey:l,cellNavigationMode:ae,maxColIdx:ro,minRowIdx:-1,maxRowIdx:lo,selectedPosition:he}))return void yo();i="NONE"===ae?"CHANGE_ROW":ae}e.preventDefault();const s=function(e,o,n){const{idx:t,rowIdx:r}=he,l=Ze[r],i=io&&-1===t;if("ArrowLeft"===e&&i&&Xe(l)&&!l.isExpanded&&0!==l.level){let e=-1;for(let o=he.rowIdx-1;o>=0;o--){const n=Ze[o];if(Xe(n)&&n.id===l.parentId){e=o;break}}if(-1!==e)return{idx:t,rowIdx:e}}switch(e){case"ArrowUp":return{idx:t,rowIdx:r-1};case"ArrowDown":return{idx:t,rowIdx:r+1};case"ArrowLeft":return{idx:t-1,rowIdx:r};case"ArrowRight":return{idx:t+1,rowIdx:r};case"Tab":return{idx:t+(n?-1:1),rowIdx:r};case"Home":return i?{idx:t,rowIdx:0}:{idx:0,rowIdx:o?-1:r};case"End":return i?{idx:t,rowIdx:Ze.length-1}:{idx:ro,rowIdx:o?lo:r};case"PageUp":{if(-1===he.rowIdx)return he;const e=Ye(r)+Qe(r)-De;return{idx:t,rowIdx:e>0?eo(e):0}}case"PageDown":{if(he.rowIdx>=Ze.length)return he;const e=Ye(r)+De;return{idx:t,rowIdx:e<_e?eo(e):Ze.length-1}}default:return he}}(r,H(e),l);s.rowIdx===he.rowIdx&&s.idx===he.idx||Oo((0,T.vc)({columns:He,colSpanColumns:Le,rows:Ze,summaryRows:n,minRowIdx:-1,maxRowIdx:lo,lastFrozenColumnIndex:Be,cellNavigationMode:i,currentPosition:he,nextPosition:s,isCellWithinBounds:Fo,isGroupRow:Xe}))}(e);break;default:!function(e){var o;if(!so)return;const n=Ze[he.rowIdx];if(Xe(n))return;const{key:t,shiftKey:r}=e;if("EDIT"===he.mode)return void("Enter"===t&&(yo(),Do()));if(je&&r&&" "===t){(0,u.J7)(d);const o=d(n);return Co({row:n,checked:!I.has(o),isShiftClick:!1}),void e.preventDefault()}null==(o=He[he.idx].editorOptions)||null==o.onCellKeyDown||o.onCellKeyDown(e),e.isDefaultPrevented()||Go(he)&&function(e){return!A.has(e.key)}(e)&&pe((({idx:e,rowIdx:o})=>({idx:e,rowIdx:o,key:t,mode:"EDIT",row:n,originalRow:n})))}(e)}},"data-testid":re,children:[(0,i.jsx)(R,{columns:oo,onColumnResize:ho,allRowsSelected:Ae,onAllRowsSelectionChange:ao,sortColumns:S,onSortColumnsChange:k,lastFrozenColumnIndex:Be,selectedCellIdx:Ne?he.idx:void 0,selectCell:xo,shouldFocusGrid:!io}),0===Ze.length&&X?X:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{height:(0,u.Fp)(_e,De)}}),(0,i.jsx)(g.P6,{value:co,children:function(){const e=[];let o=0;const{idx:n,rowIdx:t}=he,r=so&&t>$e?$e+1:$e;for(let s=so&&t<Ue?Ue-1:Ue;s<=r;s++){const r=s===Ue-1||s===$e+1,c=r?t:s;let a=oo;const u=He[n];void 0!==u&&(r?a=[u]:t!==c||oo.includes(u)||(a=n>oo[oo.length-1].idx?[...oo,u]:[...oo.slice(0,Be+1),u,...oo.slice(Be+1)]));const w=Ze[c],f=Ye(c)+se;if(Xe(w)){({startRowIndex:o}=w);const r=je&&w.childRows.every((e=>I.has(d(e))));e.push((0,i.jsx)(F,{"aria-level":w.level+1,"aria-setsize":w.setSize,"aria-posinset":w.posInSet+1,"aria-rowindex":1+o+1,"aria-selected":je?r:void 0,id:w.id,groupKey:w.groupKey,viewportColumns:a,childRows:w.childRows,rowIdx:c,row:w,top:f,height:Qe(c),level:w.level,isExpanded:w.isExpanded,selectedCellIdx:t===c?n:void 0,isRowSelected:r,selectGroup:fo,toggleGroup:go},w.id));continue}let x;o++;let m=!1;var l;"function"==typeof d?(x=d(w),m=null!=(l=null==I?void 0:I.has(x))&&l):x=no?o:c,e.push((0,i.jsx)(ce,{"aria-rowindex":1+(no?o:c)+1,"aria-selected":je?m:void 0,rowIdx:c,row:w,viewportColumns:a,isRowSelected:m,onRowClick:K,onRowDoubleClick:P,rowClass:ee,top:f,height:Qe(c),copiedCellIdx:null!==Ce&&Ce.row===w?He.findIndex((e=>e.key===Ce.columnKey)):void 0,selectedCellIdx:t===c?n:void 0,draggedOverCellIdx:No(c),setDraggedOverRowIdx:Ie?po:void 0,lastFrozenColumnIndex:Be,onRowChange:uo,selectCell:wo,selectedCellDragHandle:Ao(c),selectedCellEditor:Ho(c)},x))}return e}()}),null==n?void 0:n.map(((e,o)=>{const t=he.rowIdx===1+Ze.length+o-1;return(0,i.jsx)(D,{"aria-rowindex":1+Je+o+1,rowIdx:o,row:e,bottom:de*(n.length-1-o),viewportColumns:oo,lastFrozenColumnIndex:Be,selectedCellIdx:t?he.idx:void 0,selectCell:mo},o)}))]})]})}const K=(0,t.forwardRef)(W)},57080:(e,o,n)=>{n.d(o,{a:()=>C,Z:()=>p});var t=n(67294),r=n(86010),l=n(66707),i=n(61294),s=n(23399),d=n(85893);function c({column:e,colSpan:o,isCellSelected:n,isCopied:t,isDraggedOver:r,row:c,dragHandle:a,onRowClick:u,onRowDoubleClick:w,onRowChange:f,selectCell:x,...m}){const{ref:g,tabIndex:h,onFocus:p}=(0,s.u)(n),{cellClass:C}=e,v=(0,l.bJ)(e,"function"==typeof C?C(c):C,t&&"rdg-cell-copied c6ra8a3",r&&"rdg-cell-dragged-over cq910m0");function I(o){x(c,e,o)}return(0,d.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-selected":n,"aria-colspan":o,"aria-readonly":!(0,i.HN)(e,c)||void 0,ref:g,tabIndex:h,className:v,style:(0,l.pB)(e,o),onClick:function(){var o;I(null==(o=e.editorOptions)?void 0:o.editOnClick),null==u||u(c,e)},onDoubleClick:function(){I(!0),null==w||w(c,e)},onContextMenu:function(){I()},onFocus:p,...m,children:!e.rowGroup&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.formatter,{column:e,row:c,isCellSelected:n,onRowChange:f}),a]})})}const a=(0,t.memo)(c);n(9020);var u=n(84941),w=n(22846),f=n(57163),x=n(46134),m=n(49972),g=n(4597);function h({className:e,rowIdx:o,selectedCellIdx:n,isRowSelected:t,copiedCellIdx:l,draggedOverCellIdx:i,lastFrozenColumnIndex:s,row:c,viewportColumns:h,selectedCellEditor:p,selectedCellDragHandle:C,onRowClick:v,onRowDoubleClick:I,rowClass:R,setDraggedOverRowIdx:y,onMouseEnter:b,top:S,height:k,onRowChange:E,selectCell:F,...z},G){const{ref:O,tabIndex:D,className:j}=(0,u.W)(n),N=(0,w.q)((e=>{E(o,e)}));e=(0,r.Z)(g.o,"rdg-row-"+(o%2==0?"even":"odd"),j,null==R?void 0:R(c),e);const A=[];for(let e=0;e<h.length;e++){const o=h[e],{idx:t}=o,r=(0,m.S)(o,s,{type:"ROW",row:c});void 0!==r&&(e+=r-1);const u=n===t;u&&p?A.push(p):A.push((0,d.jsx)(a,{column:o,colSpan:r,row:c,isCopied:l===t,isDraggedOver:i===t,isCellSelected:u,dragHandle:u?C:void 0,onRowClick:v,onRowDoubleClick:I,onRowChange:N,selectCell:F},o.key))}return(0,d.jsx)(f.hs,{value:t,children:(0,d.jsx)("div",{role:"row",ref:(0,x.H)(G,O),tabIndex:D,className:e,onMouseEnter:function(e){null==y||y(o),null==b||b(e)},style:{top:S,"--row-height":`${k}px`},...z,children:A})})}const p=(0,t.memo)(h),C=(0,t.memo)((0,t.forwardRef)(h))},84836:(e,o,n)=>{n.d(o,{m:()=>i});var t=n(86010),r=n(65567),l=n(85893);function i({value:e,isCellSelected:o,disabled:n,onClick:i,onChange:s,"aria-label":d,"aria-labelledby":c}){const{ref:a,tabIndex:u}=(0,r.n)(o);return(0,l.jsxs)("label",{className:(0,t.Z)("rdg-checkbox-label c4l3n6v",n&&"rdg-checkbox-label-disabled c1jlcvp4"),children:[(0,l.jsx)("input",{"aria-label":d,"aria-labelledby":c,ref:a,type:"checkbox",tabIndex:u,className:"rdg-checkbox-input c1bikpmb",disabled:n,checked:e,onChange:function(e){s(e.target.checked,e.nativeEvent.shiftKey)},onClick:i}),(0,l.jsx)("div",{className:"rdg-checkbox c1eyot7g"})]})}n(35764)},66199:(e,o,n)=>{n.d(o,{Z:()=>l});var t=n(65567),r=n(85893);function l({onSort:e,sortDirection:o,priority:n,children:l,isCellSelected:i}){const{ref:s,tabIndex:d}=(0,t.n)(i);return(0,r.jsxs)("span",{ref:s,tabIndex:d,className:"rdg-header-sort-cell h1j9yp5q",onClick:function(o){e(o.ctrlKey||o.metaKey)},onKeyDown:function(o){" "!==o.key&&"Enter"!==o.key||(o.preventDefault(),e(o.ctrlKey||o.metaKey))},children:[(0,r.jsx)("span",{className:"rdg-header-sort-name h1e6at1o",children:l}),(0,r.jsxs)("span",{children:[void 0!==o&&(0,r.jsx)("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:"rdg-sort-arrow a1t8izji","aria-hidden":!0,children:(0,r.jsx)("path",{d:"ASC"===o?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})}),n]})]})}n(590)},46134:(e,o,n)=>{n.d(o,{H:()=>r});var t=n(67294);function r(...e){return(0,t.useCallback)((o=>{for(const n of e)"function"==typeof n?n(o):null!==n&&"current"in n&&(n.current=o)}),e)}},65567:(e,o,n)=>{n.d(o,{n:()=>l});var t=n(67294),r=n(98321);function l(e){const o=(0,t.useRef)(null);return(0,r.b)((()=>{var n;e&&(null==(n=o.current)||n.focus({preventScroll:!0}))}),[e]),{ref:o,tabIndex:e?0:-1}}},22846:(e,o,n)=>{n.d(o,{q:()=>r});var t=n(67294);function r(e){const o=(0,t.useRef)(e);return(0,t.useEffect)((()=>{o.current=e})),(0,t.useCallback)(((...e)=>{o.current(...e)}),[])}},98321:(e,o,n)=>{n.d(o,{b:()=>r});var t=n(67294);const r="undefined"==typeof window?t.useEffect:t.useLayoutEffect},23399:(e,o,n)=>{n.d(o,{u:()=>l});var t=n(67294),r=n(98321);function l(e){const o=(0,t.useRef)(null),n=(0,t.useRef)(!1),[,l]=(0,t.useState)({});(0,r.b)((()=>{var t;e?n.current?l({}):null==(t=o.current)||t.focus():n.current=!1}),[e]);const i=e&&!n.current;return{ref:o,tabIndex:i?0:-1,onFocus:function(e){e.target!==o.current&&(n.current=!0)}}}},84941:(e,o,n)=>{n.d(o,{W:()=>r});var t=n(65567);function r(e){const o=-1===e,{ref:n,tabIndex:r}=(0,t.n)(o);return{ref:n,tabIndex:r,className:o?"rdg-row-selected r1v67ork":void 0}}n(40167)},57163:(e,o,n)=>{n.d(o,{hs:()=>l,P6:()=>s,Gt:()=>d});var t=n(67294);const r=(0,t.createContext)(void 0),l=r.Provider,i=(0,t.createContext)(void 0),s=i.Provider;function d(){const e=(0,t.useContext)(r),o=(0,t.useContext)(i);if(void 0===e||void 0===o)throw new Error("useRowSelection must be used within DataGrid cells");return[e,o]}},4597:(e,o,n)=>{n.d(o,{o:()=>t});const t="rdg-row r1upfr80";n(9441)},49972:(e,o,n)=>{function t(e,o,n){const t="function"==typeof e.colSpan?e.colSpan(n):1;if(Number.isInteger(t)&&t>1&&(!e.frozen||e.idx+t-1<=o))return t}n.d(o,{S:()=>t})},23255:(e,o,n)=>{function t(e){e.stopPropagation()}n.d(o,{U:()=>t})},66707:(e,o,n)=>{n.d(o,{J7:()=>d,GW:()=>i,bJ:()=>a,pB:()=>c,Fp:()=>l,VV:()=>r,Xx:()=>s});var t=n(86010);n(41354);const{min:r,max:l,floor:i,sign:s}=Math;function d(e){if("function"!=typeof e)throw new Error("Please specify the rowKeyGetter prop to use selection")}function c(e,o){return{gridColumnStart:e.idx+1,gridColumnEnd:void 0!==o?`span ${o}`:void 0,left:e.frozen?`var(--frozen-left-${e.idx})`:void 0}}function a(e,...o){return(0,t.Z)("rdg-cell cj343x0",...o,e.frozen&&"rdg-cell-frozen csofj7r",e.isLastFrozenColumn&&"rdg-cell-frozen-last ch2wcw8")}},61294:(e,o,n)=>{n.d(o,{t:()=>r,HN:()=>l,Hc:()=>i,vc:()=>s,au:()=>d});var t=n(49972);function r({selectedPosition:e,columns:o,rows:n,isGroupRow:t}){const r=o[e.idx],i=n[e.rowIdx];return!t(i)&&l(r,i)}function l(e,o){return null!=e.editor&&!e.rowGroup&&!1!==("function"==typeof e.editable?e.editable(o):e.editable)}function i({rows:e,summaryRows:o,rowIdx:n,lastFrozenColumnIndex:r,column:l,isGroupRow:i}){if(-1===n)return(0,t.S)(l,r,{type:"HEADER"});if(n>=0&&n<e.length){const o=e[n];return i(o)?void 0:(0,t.S)(l,r,{type:"ROW",row:o})}return o?(0,t.S)(l,r,{type:"SUMMARY",row:o[n-e.length]}):void 0}function s({cellNavigationMode:e,columns:o,colSpanColumns:n,rows:t,summaryRows:r,minRowIdx:l,maxRowIdx:s,currentPosition:{idx:d},nextPosition:c,lastFrozenColumnIndex:a,isCellWithinBounds:u,isGroupRow:w}){let{idx:f,rowIdx:x}=c;const m=e=>{if(x>=0&&x<t.length){const e=t[x];if(w(e))return}for(const o of n){const n=o.idx;if(n>f)break;const l=i({rows:t,summaryRows:r,rowIdx:x,lastFrozenColumnIndex:a,column:o,isGroupRow:w});if(l&&f>n&&f<l+n){f=n+(e?l:0);break}}};if(u(c)&&m(f-d>0),"NONE"!==e){const n=o.length,t=-1===f;f===n?"CHANGE_ROW"===e?x===s||(f=0,x+=1):f=0:t&&("CHANGE_ROW"===e?x===l||(x-=1,f=n-1):f=n-1,m(!1))}return{idx:f,rowIdx:x}}function d({cellNavigationMode:e,maxColIdx:o,minRowIdx:n,maxRowIdx:t,selectedPosition:{rowIdx:r,idx:l},shiftKey:i}){if("NONE"===e||"CHANGE_ROW"===e){const e=l===o,s=0===l,d=r===t,c=r===n;return i?s&&c:e&&d}return!1}},9020:(e,o,n)=>{n.r(o)},68822:(e,o,n)=>{n.r(o)},93246:(e,o,n)=>{n.r(o)},47759:(e,o,n)=>{n.r(o)},14866:(e,o,n)=>{n.r(o)},27010:(e,o,n)=>{n.r(o)},57319:(e,o,n)=>{n.r(o)},35764:(e,o,n)=>{n.r(o)},51802:(e,o,n)=>{n.r(o)},590:(e,o,n)=>{n.r(o)},40167:(e,o,n)=>{n.r(o)},41354:(e,o,n)=>{n.r(o)},42995:(e,o,n)=>{n.r(o)},9441:(e,o,n)=>{n.r(o)}}]);
//# sourceMappingURL=c52d41a4c84f57f83301.js.map